extends layout

block content
  h1= title
  p Welcome to #{title}
  span.label Url
  input(id="proxy-url" type="text", name="url")
  input(type="button", value="fetch")

  iframe(id="proxy-window" src="")

  script(type='text/javascript').
    var input = document.getElementById('proxy-url');
    var iframe = document.getElementById('proxy-window');

    var proxyUrl = function(url) {
      return "http://localhost:3000/proxy?url=" + url;
    };

    input.addEventListener('change', function() {
      iframe.setAttribute("src", proxyUrl(input.value));
    });
